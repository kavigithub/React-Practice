<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        //create promise
        let myPromise = new Promise((resolve, reject) => {
            setTimeout(() => {
                //console.log('promise 1 return')
                resolve("Data from server");
            }, 5000)
        })
        console.log(myPromise);

        let myPromise2 = new Promise((resolve, reject) => {
            setTimeout(() => {
                try {
                    console.log('data2')
                    //throw new Error("Error in second promise");
                    resolve('get data form 2nd promise')
                } catch (error) {
                    reject(error);
                }
            }, 5000)
        })

        // chaining promises using then() method
       /*  myPromise.then((result) => {
            console.log(`this is ${result}`);
            myPromise2.then((result2) => {
                console.log(`printed after 3 seconds: ${result2}`)
            })
        }) */
        myPromise.then((result) => {
            myPromise2.then((result2) => {
                console.log(`printed after 3 seconds: ${result2}`)
            })
        }).catch((err) => {
            
        });

        function getData(id){
            return new Promise((resolve, reject) => {
                setTimeout(()=> {
                    console.log('id', id)
                    resolve(`get id successfully : ${id}`);
                }, 3000)
            })
        }

        //Promise Chain
       /*  getData(1).then((res) => {
            console.log(res)
            return getData(2)
        }).then((res2) => {
            console.log(res2)
            return getData(3)
        }).then((res3) => {
            console.log(res3)
        }) */

        async function getAllId(){
            await getData(1);
            await getData(2);
            await getData(3);
        }
        getAllId();



    </script>
</body>

</html>